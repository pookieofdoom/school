
# Using TestExp.o
echo "Compiling using provided TestExp.o"
gcc -o Decoder CodeSet.c LZWExp.c SmartAlloc.c Unix/TestExp.o

echo "Testing non-hex input"
./Decoder < tests/BadHex.in > TestResult.out
diff TestResult.out tests/BadHex.out

echo "Testing empty file"
./Decoder < tests/Empty.in > TestResult.out
diff TestResult.out tests/Empty.out

echo "Testing garbage after EOD"
./Decoder < tests/GarbageAfterEOD.in > TestResult.out
diff TestResult.out tests/GarbageAfterEOD.out

echo "Testing multiple EODs"
./Decoder < tests/MultipleEOD.in > TestResult.out
diff TestResult.out tests/MultipleEOD.out

echo "Testing no EOD"
./Decoder < tests/NoEOD.in > TestResult.out
diff TestResult.out tests/NoEOD.out

echo "Testing hex values less than 4 bytes"
./Decoder < tests/StuntedHex.in > TestResult.out
diff TestResult.out tests/StuntedHex.out

echo "Testing test1"
./Decoder < tests/test1.in > TestResult.out
diff TestResult.out tests/test1.out

echo "Testing single EOD"
./Decoder < tests/test2.in > TestResult.out
diff TestResult.out tests/test2.out

echo "Testing test3"
./Decoder < tests/test3.in > TestResult.out
diff TestResult.out tests/test3.out

echo "Testing test4 (recycling)"
./Decoder < tests/test4.in > TestResult.out
diff TestResult.out tests/test4.out

echo "Testing test6 (code too high)"
./Decoder < tests/test6.in > TestResult.out
diff TestResult.out tests/test6.out

echo "Testing Ulysses"
./Decoder < tests/Ulysses.in > TestResult.out
diff TestResult.out tests/Ulysses.out

echo "Testing normal text as input"
./Decoder < tests/NormalText.in > TestResult.out
diff TestResult.out tests/NormalText.out

echo "Testing Garbage in leftover"
./Decoder < tests/GarbageInLeftover.in > TestResult.out
diff TestResult.out tests/GarbageInLeftover.out

# Cleaning up 
echo "Cleanup"
rm TestResult.out
rm Decoder

# Cleaning up 
echo "Cleanup"
rm TestResult.out
rm Decoder
